# Common upstream settings

# PHP 5.6 upstream
upstream php {
server 127.0.0.1:9000;
}

upstream debug {
# Debug Pool
server 127.0.0.1:9001;
}

# PHP 7.0 upstream
upstream php7 {
server 127.0.0.1:9070;
}

# PHP 7.2 upstream with load-balancing on two unix sockets
upstream php72 {
server unix:/var/run/php/php72-fpm.sock;
}

# PHP 7.2 debug
upstream debug72 {
# Debug Pool
server 127.0.0.1:9172;
}

# PHP 7.3 upstream with load-balancing on two unix sockets
upstream php73 {
server unix:/var/run/php/php73-fpm.sock;
}

{{#php7conf}}
# PHP 7.3 debug
upstream debug73 {
# Debug Pool
server 127.0.0.1:9173;
}
{{/php7conf}}

# Netdata Monitoring Upstream
upstream netdata {
    server 127.0.0.1:19999;
    keepalive 64;
}

{{#hhvmconf}}
upstream hhvm {
# HHVM Pool
server 127.0.0.1:{{hhvm}};
server 127.0.0.1:{{php}} backup;
}
{{/hhvmconf}}
